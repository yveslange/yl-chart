!function(){"use strict";var t="undefined"!=typeof window?window:global;if("function"!=typeof t.require){var e={},r={},i=function(t,e){return{}.hasOwnProperty.call(t,e)},o=function(t,e){var r,i,o=[];r=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var n=0,a=r.length;a>n;n++)i=r[n],".."===i?o.pop():"."!==i&&""!==i&&o.push(i);return o.join("/")},n=function(t){return t.split("/").slice(0,-1).join("/")},a=function(e){return function(r){var i=n(e),a=o(i,r);return t.require(a,e)}},s=function(t,e){var i={id:t,exports:{}};return r[t]=i,e(i.exports,a(t),i),i.exports},l=function(t,n){var a=o(t,".");if(null==n&&(n="/"),i(r,a))return r[a].exports;if(i(e,a))return s(a,e[a]);var l=o(a,"./index");if(i(r,l))return r[l].exports;if(i(e,l))return s(l,e[l]);throw new Error('Cannot find module "'+t+'" from "'+n+'"')},c=function(t,r){if("object"==typeof t)for(var o in t)i(t,o)&&(e[o]=t[o]);else e[t]=r},d=function(){var t=[];for(var r in e)i(e,r)&&t.push(r);return t};t.require=l,t.require.define=c,t.require.register=c,t.require.list=d,t.require.brunch=!0}}(),require.register("agchart",function(t,e,r){var i,o,n;n=e("utils/palette"),r.exports=o={},o.Main=i=function(){function t(t){this._CONF={tooltip:{format:{x:null,y:null},callback:"singlePoint",alwaysInside:!0},canvas:{render:"dot",label:{x:{text:null,size:10,color:"#7f7f7f"},y:{text:null,size:10,color:"#7f7f7f"}},selector:void 0,width:600,height:400,padding:[0,0],cross:{x:{show:!1,color:"black",stroke:1,offset:10},y:{show:!1,color:"black",stroke:1,offset:1}}},logo:{url:"agflow-logo.svg",width:100,height:50,x:"right",y:"bottom",opacity:.5},point:{onMouseover:"singlePoint",onMouseout:"singlePoint",r:4,color:"munin",stroke:{width:4,color:"#FFFFFF"}},axis:{x:{format:null,tickSize:void 0,orient:"bottom",tickColor:"#efefef",tickWidth:2,strokeWidth:1,color:"#2f2f2f"},y:{format:null,tickSize:void 0,orient:"left",tickColor:"#efefef",tickWidth:2,strokeWidth:1,color:"#2f2f2f"}}},this._SERIES=this.prepareSeries(t.series),this._CANVAS=void 0,this._TOOLTIP=void 0,this._SCALE={x:void 0,y:void 0},this.defaultConfig(t.config),this.computePadding(),this.computeScales()}return t.prototype.defaultConfig=function(t){var e;return null==t&&(t={}),e=function(t,r){var i,o,n;if(null!=r){n=[];for(i in r)n.push("object"==typeof r[i]?e(t[i],r[i]):t[i]=null!=(o=r[i])?o:t[i]);return n}},e(this._CONF,t),this._CONF},t.prototype.effects={singlePoint:{onMouseover:function(t){var e,r;return r=t.circleNode,e=parseFloat(r.getAttribute("stroke-width")),r.setAttribute("stroke-width",2*e)},onMouseout:function(t){var e,r;return r=t.circleNode,e=parseFloat(r.getAttribute("stroke-width")),r.setAttribute("stroke-width",e/2)}},multipleVertical:{onMouseover:function(t){var e,r,i;return i=t.circleNode,e=i.getAttribute("cx"),r=2*parseFloat(i.getAttribute("stroke-width")),$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){return $(e).attr("stroke-width",r)})},onMouseout:function(t){var e,r,i;return i=t.circleNode,e=i.getAttribute("cx"),r=parseFloat(i.getAttribute("stroke-width"))/2,$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){return $(e).attr("stroke-width",r)})}},multipleVerticalInverted:{onMouseover:function(t){var e,r,i;return i=t.circleNode,e=i.getAttribute("cx"),r=2*parseFloat(i.getAttribute("stroke-width")),$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){var i,o;return $(e).attr("stroke-width",r),i=$(e).attr("fill"),o=$(e).attr("stroke"),$(e).attr("stroke",i),$(e).attr("fill",o)})},onMouseout:function(t){var e,r,i;return i=t.circleNode,e=i.getAttribute("cx"),r=parseFloat(i.getAttribute("stroke-width"))/2,$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){var i,o;return $(e).attr("stroke-width",r),i=$(e).attr("fill"),o=$(e).attr("stroke"),$(e).attr("stroke",i),$(e).attr("fill",o)})}}},t.prototype.toString=function(){console.log("Canvas in "+this._CONF.selector),console.log("Config",this._CONF),console.log("Datas:",this._SERIES)},t.prototype.computePadding=function(){var t;return t=this._CONF.point.r+this._CONF.point.stroke.width/2,"auto"===this._CONF.canvas.padding?this._CONF.canvas.padding=[t,t]:void 0},t.prototype.maxX=function(){var t,e,r,i,o,n,a,s,l;for(t=Number.MIN_VALUE,s=this._SERIES,i=0,n=s.length;n>i;i++)for(r=s[i],l=r.data,o=0,a=l.length;a>o;o++)e=l[o],e.x>t&&(t=e.x);return t},t.prototype.maxY=function(){var t,e,r,i,o,n,a,s,l;for(t=Number.MIN_VALUE,s=this._SERIES,i=0,n=s.length;n>i;i++)for(r=s[i],l=r.data,o=0,a=l.length;a>o;o++)e=l[o],e.y>t&&(t=e.y);return t},t.prototype.computeScales=function(){var t,e,r,i;return r=this._CONF.canvas,i=r.padding,t=this.maxX(),e=this.maxY(),this._SCALE.width=d3.scale.linear(),null!=this._CONF.axis.x.format&&(this._SCALE.width=d3.time.scale()),this._SCALE.width.domain([0,t]).nice().range([i[0],r.width-i[0]]),this._SCALE.height=d3.scale.linear(),null!=this._CONF.axis.y.format&&(this._SCALE.height=d3.time.scale()),this._SCALE.height.domain([0,e]).nice().range([r.height-i[1],i[1]])},t.prototype.createCanvas=function(){if(null==this._CONF.canvas.selector)throw new Error("No selector defined");return this._CANVAS=d3.select(this._CONF.canvas.selector).append("svg").attr("fill","white").attr("width",this._CONF.canvas.width).attr("height",this._CONF.canvas.height)},t.prototype.renderLabel=function(t){return null==t&&(t={label:{color:null,size:null,trans:null,text:""},"class":null}),this._CANVAS.append("text").attr("fill",t.label.color).attr("class","label "+t["class"]).attr("font-size",t.label.size+"px").attr("text-anchor","middle").attr("transform",t.label.trans).text(t.label.text)},t.prototype.renderAxis=function(t){var e,r;return null==t&&(t={"class":null,scale:null,height:null,width:null,padding:null,orient:null,trans:null,label:null,format:null}),e=d3.svg.axis().scale(t.scale).orient(t.orient).tickSize(t.tickSize),null!=t.format&&(e.ticks(d3.time.months,1),e.tickFormat(d3.time.format(t.format))),r=this._CANVAS.append("g").attr("transform",t.trans).attr("class","axis "+t["class"]).call(e),this.renderLabel(t),r.selectAll("line").attr("stroke",t.color).attr("stroke-width",t.strokeWidth),r.selectAll("line").filter(function(t){return t}).attr("stroke",t.tickColor).attr("width-stroke",t.tickWidth),r.selectAll("path").style("display","none"),r.selectAll("text").attr("fill",t.label.color).attr("font-size",t.label.size)},t.prototype.renderXAxis=function(){var t,e,r,i,o,n,a,s;return i=this._CONF.canvas.padding[1],e=this._CONF.canvas.height,s=this._CONF.canvas.width,a="translate(0, "+i+")",r=this._CONF.canvas.label.x,r.trans="translate("+s/2+", "+(e-1)+")",n=this._CONF.axis.x.tickSize,"full"===n&&(n=e-2*i),o={"class":"x",height:this._CONF.canvas.height,width:this._CONF.canvas.width/2,scale:this._SCALE.width,tickSize:n,padding:i,label:r,orient:this._CONF.axis.x.orient,trans:a,tickColor:this._CONF.axis.x.tickColor,tickWidth:this._CONF.axis.x.tickWidth,color:this._CONF.axis.x.color,strokeWidth:this._CONF.axis.x.strokeWidth,format:this._CONF.axis.x.format},t=this.renderAxis(o)},t.prototype.renderYAxis=function(){var t,e,r,i,o,n,a,s;return i=this._CONF.canvas.padding[0],e=this._CONF.canvas.height,s=this._CONF.canvas.width,a="translate("+i+", 0)",r=this._CONF.canvas.label.y,r.trans="rotate(90) translate("+e/2+", "+-i+")",n=this._CONF.axis.y.tickSize,"full"===n&&(n=-s+2*i),o={"class":"y",height:this._CONF.canvas.height,width:this._CONF.canvas.width,scale:this._SCALE.height,tickSize:n,padding:i,label:r,orient:this._CONF.axis.y.orient,trans:a,tickColor:this._CONF.axis.y.tickColor,tickWidth:this._CONF.axis.y.tickWidth,color:this._CONF.axis.y.color,strokeWidth:this._CONF.axis.y.strokeWidth,format:this._CONF.axis.y.format},t=this.renderAxis(o)},t.prototype.prepareSeries=function(t){var e,r,i,o,n,a,s,l;for(e=o=0,a=t.length;a>o;e=++o)for(i=t[e],l=i.data,n=0,s=l.length;s>n;n++)r=l[n],null!=i.config&&(r.config=i.config),r.serie=e;return t},t.prototype.renderPoints=function(){var t,e,r,i,o,a,s,l,c,d,u,h,f;if(c=this,a=this._CONF,o=this._CANVAS,s=this.effects,f=this.tooltip.show,u=this.tooltip.hide,h=this._TOOLTIP,d=a.tooltip.callback,l=new n.Main(this._CONF.point.color),"string"==typeof d&&(d=this.tooltip.callbacks[d]),e=this._SCALE.width,t=this._SCALE.height,r=this._CANVAS.selectAll(".series").data(this._SERIES).enter().append("g").attr("class","series").attr("id",function(t,e){return""+e}).attr("title",function(t){return t.name}),("line"===a.canvas.render||"dotline"===a.canvas.render)&&(i=d3.svg.line().interpolate("linear").x(function(t){return e(t.x)}).y(function(e){return t(e.y)}),r.append("path").attr("class","line").attr("d",function(t){return i(t.data)}).attr("stroke-width",function(t){var e,r,i;return null!=(e=null!=(r=t.config)&&null!=(i=r.stroke)?i.width:void 0)?e:a.point.stroke.width}).attr("stroke",function(t,e){var r,i;return null!=(null!=(r=t.config)?r.color:void 0)?null!=(i=t.config)?i.color:void 0:l.isDefined()?l.color(e):a.point.color}).attr("fill","none")),"dot"===a.canvas.render||"dotline"===a.canvas.render)return r.selectAll(".circle").data(function(t){return t.data}).enter().append("circle").attr("cx",function(t){return e(t.x)}).attr("cy",function(e){return t(e.y)}).attr("data-x",function(t){return t.x}).attr("data-y",function(t){return t.y}).attr("r",function(t){var e,r;return null!=(e=null!=(r=t.config)?r.r:void 0)?e:a.point.r}).attr("stroke",function(t){var e,r;return null!=(null!=(e=t.config)&&null!=(r=e.stroke)?r.color:void 0)?t.config.stroke.color:a.point.stroke.color}).attr("stroke-width",function(t){var e,r,i;return null!=(e=null!=(r=t.config)&&null!=(i=r.stroke)?i.width:void 0)?e:a.point.stroke.width}).attr("fill",function(t){var e,r;return null!=(null!=(e=t.config)?e.color:void 0)?null!=(r=t.config)?r.color:void 0:l.isDefined()?l.color(t.serie):a.point.color}).on("mouseover",function(t){var e,r;return r=a.point.onMouseover,"string"==typeof r&&(r=s[r].onMouseover),r({canvas:o,circleNode:this,data:t}),h.html(d({format:a.tooltip.format,canvas:o,tooltipNode:h,circleNode:this,data:t})),e={canvas:{width:a.canvas.width,height:a.canvas.height},tooltip:{alwaysInside:a.tooltip.alwaysInside}},f(e,h,t)}).on("mouseout",function(t){var e;return e=a.point.onMouseout,"string"==typeof e&&(e=s[e].onMouseout),e({canvas:o,circleNode:this,data:t}),u(h)});throw new Error("Unknown render value '"+o.render+"'")},t.prototype.renderTooltip=function(){return null==this._TOOLTIP?this._TOOLTIP=d3.select("body").append("div").attr("class","tooltip").style("opacity",0):void 0},t.prototype.renderCross=function(t){var e,r,i,o,n,a;return i=t.padding[0],o=t.padding[1],e=this._CONF.canvas.cross.x.offset,r=this._CONF.canvas.cross.y.offset,n=t.canvas.append("line").attr("class","crossX").attr("x1",-t.width).attr("y1",o).attr("x2",-t.width).attr("y2",t.height-o).attr("stroke",t.cross.x.color).attr("stroke-width",t.cross.x.stroke),a=t.canvas.append("line").attr("class","crossY").attr("x1",i).attr("y1",-t.height).attr("x2",t.width-i).attr("y2",-t.height).attr("stroke",t.cross.y.color).attr("stroke-width",t.cross.y.stroke),t.canvas.on("mousemove",function(){return t.cross.x.show&&d3.event.pageX>=i+e&&d3.event.pageX<=t.width-i+e&&n.attr("x1",d3.event.pageX-e).attr("x2",d3.event.pageX-e),t.cross.y.show&&d3.event.pageY>=o+r&&d3.event.pageY<=t.height-o+r?a.attr("y1",d3.event.pageY-r).attr("y2",d3.event.pageY-r):void 0})},t.prototype.renderLogo=function(t){return"bottom"===t.y&&(t.y=this._CONF.canvas.height-this._CONF.canvas.padding[0]-t.height),"top"===t.y&&(t.y=this._CONF.canvas.padding[0]),"right"===t.x&&(t.x=this._CONF.canvas.width-this._CONF.canvas.padding[1]-t.width),"left"===t.y&&(t.x=this._CONF.canvas.padding[1]),this._CANVAS.append("image").attr("width",t.width).attr("height",t.height).attr("x",t.x).attr("y",t.y).attr("opacity",t.opacity).attr("xlink:href","agflow-logo.svg")},t.prototype.render=function(){return null==this._CANVAS&&(this._CANVAS=this.createCanvas()),this.renderLogo({opacity:this._CONF.logo.opacity,url:this._CONF.logo.url,width:this._CONF.logo.width,height:this._CONF.logo.height,x:this._CONF.logo.x,y:this._CONF.logo.y}),this.renderCross({canvas:this._CANVAS,cross:this._CONF.canvas.cross,padding:this._CONF.canvas.padding,height:this._CONF.canvas.height,width:this._CONF.canvas.width}),this.renderXAxis(),this.renderYAxis(),this.renderTooltip(),this.renderPoints()},t.prototype.tooltip={show:function(t,e,r){var i,o,n,a;return o=d3.event.pageX+r.config.stroke.width,n=d3.event.pageY+r.config.stroke.width,t.tooltip.alwaysInside&&(d3.event.pageX>t.canvas.width/2&&(a=parseFloat(e.style("width").replace("px","")),o=d3.event.pageX-r.config.stroke.width-a-10),d3.event.pageY>t.canvas.height/2&&(i=parseFloat(e.style("height").replace("px","")),n=d3.event.pageY-r.config.stroke.width-i-10)),e.style("left",o+"px").style("top",n+"px").transition().duration(200).style("opacity",.9)},hide:function(t){return t.transition().duration(500).style("opacity",0)},callbacks:{singlePoint:function(t){var e,r,i;return e=t.circleNode.parentNode.getAttribute("title"),r=t.circleNode.getAttribute("fill"),null!=(null!=(i=t.format)?i.x:void 0)&&(t.data.x=t.format.x(x)),"<div>"+e+("<div class='swatch'              style='background-color: "+r+"'></div>")+"</div>"+("<div>"+t.data.x+" "+t.data.y.toFixed(2)+"</div>")},multipleVertical:function(t){var e,r,i,o,n;return o=t.circleNode,e=o.getAttribute("cx"),i=o.getAttribute("data-x"),null!=(null!=(n=t.format)?n.x:void 0)&&(i=t.format.x(i)),r=""+i,$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){var i,o,n;return i=e.parentNode.getAttribute("title"),o=e.getAttribute("fill"),n=parseFloat(e.getAttribute("data-y")).toFixed(2),r+="<div>"+i+" : "+n+("<div class='swatch'                style='background-color: "+o+"'></div>")+"</div>"}),r},multipleVerticalInverted:function(t){var e,r,i,o,n;return o=t.circleNode,e=o.getAttribute("cx"),i=o.getAttribute("data-x"),null!=(null!=(n=t.format)?n.x:void 0)&&(i=t.format.x(i)),r=""+i,$(t.canvas[0]).find("circle[cx='"+e+"']").each(function(t,e){var i,o,n;return i=e.parentNode.getAttribute("title"),o=e.getAttribute("stroke"),n=parseFloat(e.getAttribute("data-y")).toFixed(2),r+="<div>"+i+" : "+n+("<div class='swatch'                style='background-color: "+o+"'></div>")+"</div>"}),r}}},t}()}),require.register("initialize",function(t,e,r){var i,o,n;r.exports=o={},i=e("agchart"),n=e("utils/time"),o.run=function(){var t,e,r,o;return o=new n.Main({lang:"en"}),e=function(t){var e,r;return e=new Date(t),(r=d3.time.format("%b '%y"))(e)},r=function(t,e){var r,i,o,n;for(null==e&&(e=1),r=[],i=o=0,n=t-1;e>0?n>=o:o>=n;i=o+=e)r.push({x:new Date(1e3*i),y:100*Math.random()});return r},t=new i.Main({config:{canvas:{render:"dotline",label:{x:{text:"Some label X",size:10,color:"#7f7f7f"},y:{text:"Some label Y",size:10,color:"#7f7f7f"}},selector:"#chart1",padding:[30,30],cross:{x:{show:!0,color:"#44A0FF"},y:{show:!0,color:"#FFA044"}}},logo:{url:"agflow-logo.png",width:100,height:50,x:"right",y:"bottom",opacity:.3},tooltip:{callback:"multipleVerticalInverted",format:{x:e}},point:{onMouseover:"multipleVerticalInverted",onMouseout:"multipleVerticalInverted",r:3,color:"paired",stroke:{width:1,color:null}},axis:{y:{tickSize:"full"},x:{format:"%b",tickSize:"full"}}},series:[{name:"Serie 1",data:r(10368e3,86400),config:{stroke:{width:1,color:"#fff"}}},{name:"Serie 2",data:r(10368e3,259200),config:{stroke:{width:1,"#fff":"#fff"}}},{name:"Serie 3",data:r(10368e3,172800),config:{stroke:{width:1,color:"#fff"}}}]}),t.render()}}),require.register("utils/palette",function(t,e,r){var i,o;r.exports=o={},o.Main=i=function(){function t(t){var e;e=this.palettes(),this._PALETTE=e[t],this._INDEX=0}return t.prototype.isDefined=function(){return null!=this._PALETTE?!0:!1},t.prototype.color=function(t){return this._PALETTE[t]},t.prototype.palettes=function(){var t;return t={},t.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),t.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],t.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],t.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),t.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},t.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),t.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],t.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"],t.paired=["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],t},t}()}),require.register("utils/time",function(t,e,r){var i,o;r.exports=o={},o.Main=i=function(){function t(t){var e;null==t&&(t={}),this._CONF={lang:null!=(e=t.lang)?e:"enl"},this._DATE=new Date,this._TIMESTAMP=this._DATE.getTime(),this._MONTHSNAME={},this._MONTHSNAME.en=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this._MONTHSNAME.enl=["January","February","March","April","May","June","July","August","September","October","November","December"],this._MONTHSNAME.fr=["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Août","Sep","Oct","Nov","Déc"],this._MONTHSNAME.frl=["Janvier","Février","Mars","Avril","Mai","Juin","Juil","Août","Septembre","Octobre","Novembre","Décembre"]}return t.prototype.monthsName=function(){return this._MONTHSNAME[this._CONF.lang]},t.prototype.getMonth=function(){return this.monthsName()[this._DATE.getMonth()]},t.prototype.getDay=function(){return this._DATE.getDay()},t.prototype.getFullDate=function(){return this._DATE.getDay()+" "+this.getMonth()+" "+this._DATE.getYear()+" "+this._DATE.getHours()+":"+this._DATE.getMinutes()},t.prototype.getDate=function(){return this._DATE},t.prototype.setTimestamp=function(t){return null==t?this._TIMESTAMP:(this._DATE=new Date(1e3*parseInt(t)),this._TIMESTAMP=parseInt(t))},t}()});